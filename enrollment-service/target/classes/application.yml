# application.yml
server:
  port: 8082

spring:
  # 应用名称（Nacos 注册的服务名，需与 catalog-service 配置一致）
  application:
    name: enrollment-service
  # 数据库配置（保留原有配置，无需修改）
  datasource:
    url: jdbc:mysql://192.168.173.1:3306/enrollment_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&characterEncoding=utf-8
    username: root
    password: lilili2004
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
  # Nacos 服务发现配置（HW07 核心要求）
  cloud:
    nacos:
      discovery:
        enabled: true
        server-addr: 1localhost:8848  # Docker 网络用容器名；本地测试改为 192.168.173.1:8848（与 Nacos 部署地址一致）
        namespace: dev  # HW07 指定命名空间（需在 Nacos 控制台手动创建）
        register-enabled: true
        username: nacos
        password: nacos
        group: COURSEHUB_GROUP  # HW07 指定分组
        ephemeral: true  # 临时实例（服务宕机后自动注销）
        heart-beat-interval: 5000  # 心跳间隔 5s
        heart-beat-timeout: 15000  # 心跳超时 15s

logging:
  level:
    root: INFO
    org.hibernate: DEBUG  # 打印 Hibernate 详细日志
    org.springframework.jdbc: DEBUG  # 打印 JDBC 连接日志
    com.alibaba.cloud.nacos: DEBUG
    com.alibaba.nacos: DEBUG


management:
  endpoints:
    web:
      exposure:
        include: health  # 暴露 /actuator/health 端点
  endpoint:
    health:
      show-details: always  # 显示健康检查详情（便于 Nacos 识别服务状态）